<%- include('../header') %>

  <div class="page-wrapper d-flex flex-column min-vh-100">
    <div class="container-fluid flex-grow-1">
      <h2 class="text-center mb-5 fw-bold simple-heading">All Blogs</h2>

      <div class="row g-4 justify-content-center">
        <% data.forEach((blog)=> { %>
          <div class="col-lg-4 col-md-6">
            <div class="card blog-card h-100 border rounded-3 overflow-hidden">

              <!-- Blog Image (Square Full Width) -->
              <div class="blog-image-wrapper">
                <img src="<%= blog.image %>" alt="Blog Image" class="blog-image">
              </div>

              <!-- Blog Content -->
              <div class="card-body text-center d-flex flex-column p-3">
                <h5 class="fw-semibold mb-2">
                  <%= blog.title %>
                </h5>
                <p class="text-muted small mb-4">
                  <%= blog.description.substring(0, 100) %>...
                </p>

                <!-- Actions -->
                <!-- Actions -->
                <div class="d-flex justify-content-center gap-3 me-auto">
                  <a href="/blog/detail/<%= blog._id %>" class="btn btn-action btn-primary">
                    Read
                  </a>
                  <a href="/blog/edit/<%= blog._id %>" class="btn btn-action btn-secondary mx-2">
                    Edit
                  </a>
                  <form action="/blog/delete/<%= blog._id %>" method="post">
                    <button type="submit" class="btn btn-action btn-danger">
                      Delete
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <% }) %>
      </div>
    </div>
  </div>


  <style>
    /* Heading */
    .simple-heading {
      font-size: 1.8rem;
      color: #333;
    }



    /* Blog Card */
    .blog-card {
      background: #fff;
      border: 1px solid #e0e0e0;
      box-shadow: none;
    }

    /* Blog Image Wrapper (Square) */
    .blog-image-wrapper {
      width: 100%;
      height: 220px;
      /* Fixed square height */
      overflow: hidden;
    }

    .blog-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      /* Puri image adjust hogi */
      display: block;
    }

    /* Buttons */
    .btn-action {
      padding: 6px 16px;
      font-size: 0.9rem;
      border-radius: 6px;
      font-weight: 500;
    }

    .btn-primary {
      background-color: #3f51b5;
      border: none;
    }

    .btn-primary:hover {
      background-color: #2c3e9d;
    }

    .btn-secondary {
      background-color: #6c757d;
      border: none;
      color: #fff;
    }

    .btn-secondary:hover {
      background-color: #565e64;
    }

    .btn-danger {
      background-color: #dc3545;
      border: none;
    }

    .btn-danger:hover {
      background-color: #bb2d3b;
    }
  </style>

  <%- include('../footer') %>